# 问题记录

## 滚动条不显示问题

### 问题描述
chat 页面消息区域无法显示滚动条，而 chat2（参考官方示例）页面可以正常显示。

### 问题根因
`Conversation` 组件（基于 `use-stick-to-bottom` 库）需要明确的高度约束才能正确显示滚动条。

**关键点：**
1. `Conversation` 组件内部使用 `overflow-y-hidden`，只有当内容高度超过容器高度时，才会显示滚动条（通过 StickToBottom 库实现）
2. 容器需要有明确的固定高度或 `h-full` + 父元素有明确高度
3. 如果容器使用 `flex-1` 而没有外层 `overflow-hidden` 约束，高度会变成内容高度，导致不会触发滚动

### 错误方案
```tsx
// ❌ 错误：Conversation 直接使用 flex-1，但父元素 main 没有被正确约束
<main className="flex min-w-0 flex-1 flex-col h-full">
  <Conversation className="flex-1">
    ...
  </Conversation>
</main>
```

### 正确方案
```tsx
// ✅ 正确：外层添加 overflow-hidden 容器限制高度
<main className="flex min-w-0 flex-1 flex-col h-full">
  <div className="flex-1 overflow-hidden">
    <Conversation className="h-full">
      ...
    </Conversation>
  </div>
</main>
```

### 参考页面
- chat2 页面使用 `h-[800px]` 直接设置固定高度
- 原理相同：都需要为 Conversation 提供明确的高度约束

### 修复日期
2026-02-21
